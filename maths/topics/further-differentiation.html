<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Further Differentiation — A Level Maths</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700;900&family=DM+Mono:wght@300;400;500&family=DM+Sans:wght@300;400;500&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css">
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.js"></script>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/contrib/auto-render.min.js"
  onload="renderMathInElement(document.body, {
    delimiters: [
      {left:'$$', right:'$$', display:true},
      {left:'$', right:'$', display:false}
    ]
  });"></script>
<style>
  :root {
    --bg: #0d0d14;
    --surface: #16161f;
    --surface2: #1e1e2a;
    --border: rgba(255,255,255,0.1);
    --text: #f0f0f8;
    --muted: #a0a0c0;
    --nav-link: #d0d0e8;
    --accent: #60a5fa;
    --accent-dim: rgba(96,165,250,0.1);
  }

* { margin: 0; padding: 0; box-sizing: border-box; }
  body { background: var(--bg); color: var(--text); font-family: 'DM Sans', sans-serif; line-height: 1.7; }

body::before {
content: ''; position: fixed; inset: 0;
background-image: linear-gradient(rgba(255,255,255,0.015) 1px, transparent 1px), linear-gradient(90deg, rgba(255,255,255,0.015) 1px, transparent 1px);
background-size: 60px 60px; pointer-events: none; z-index: 0;
}

.orb { position: fixed; border-radius: 50%; filter: blur(140px); opacity: 0.08; pointer-events: none; z-index: 0; }
.orb-1 { width: 600px; height: 600px; background: #60a5fa; top: -200px; right: -100px; }
.orb-2 { width: 500px; height: 500px; background: #60a5fa; bottom: -100px; left: -100px; }

nav { position: fixed; top: 0; left: 0; right: 0; z-index: 100; padding: 1.1rem 2.5rem; display: flex; align-items: center; justify-content: space-between; background: rgba(13,13,20,0.92); backdrop-filter: blur(20px); border-bottom: 1px solid var(--border); }
.nav-logo { font-family: 'Playfair Display', serif; font-size: 1rem; font-weight: 700; color: var(--text); text-decoration: none; }
.nav-logo span { color: var(--accent); }
.nav-back { color: var(--nav-link); text-decoration: none; font-size: 0.8rem; font-family: 'DM Mono', monospace; transition: color 0.2s; }
.nav-back:hover { color: var(--accent); }

.layout { display: flex; min-height: 100vh; position: relative; z-index: 1; }

.sidebar { position: fixed; top: 56px; left: 0; bottom: 0; width: 260px; background: var(--surface); border-right: 1px solid var(--border); overflow-y: auto; padding: 2rem 0; }
.sidebar-title { font-family: 'DM Mono', monospace; font-size: 0.68rem; color: var(--muted); text-transform: uppercase; letter-spacing: 0.12em; padding: 0 1.5rem; margin-bottom: 1rem; }
.sidebar-link { display: flex; align-items: center; gap: 0.75rem; padding: 0.65rem 1.5rem; text-decoration: none; color: var(--nav-link); font-size: 0.85rem; transition: all 0.2s; border-left: 2px solid transparent; }
.sidebar-link:hover { color: var(--text); background: rgba(255,255,255,0.03); }
.sidebar-link.active { color: var(--accent); border-left-color: var(--accent); background: rgba(96,165,250,0.07); }
.sidebar-num { font-family: 'DM Mono', monospace; font-size: 0.68rem; color: var(--muted); width: 18px; flex-shrink: 0; }
.sidebar-link.active .sidebar-num { color: var(--accent); }
.sidebar-divider { height: 1px; background: var(--border); margin: 1rem 1.5rem; }

.main { margin-left: 260px; padding: 5rem 4rem 8rem; flex: 1; min-width: 0; width: calc(100% - 260px); }

.topic-header { margin-bottom: 3rem; padding-bottom: 2rem; border-bottom: 1px solid var(--border); animation: fadeUp 0.6s ease both; }
.breadcrumb { font-family: 'DM Mono', monospace; font-size: 0.72rem; color: var(--muted); margin-bottom: 1.2rem; display: flex; align-items: center; gap: 0.4rem; }
.breadcrumb a { color: var(--accent); text-decoration: none; }
.topic-num-badge { display: inline-block; font-family: 'DM Mono', monospace; font-size: 0.7rem; color: var(--accent); background: rgba(96,165,250,0.1); border: 1px solid rgba(96,165,250,0.25); padding: 0.25rem 0.7rem; border-radius: 6px; margin-bottom: 1rem; letter-spacing: 0.06em; }
h1.topic-title { font-family: 'Playfair Display', serif; font-size: clamp(2rem, 4vw, 3rem); font-weight: 900; letter-spacing: -0.03em; line-height: 1.1; margin-bottom: 1rem; }
.topic-intro { font-size: 1rem; color: var(--muted); max-width: 600px; }
.topic-meta-row { display: flex; gap: 2rem; margin-top: 1.5rem; flex-wrap: wrap; }
.meta-item { font-family: 'DM Mono', monospace; font-size: 0.72rem; color: var(--muted); display: flex; align-items: center; gap: 0.4rem; }
.meta-item span { color: var(--accent); }

.lesson-section { margin-bottom: 3.5rem; animation: fadeUp 0.6s ease both; }
h2.section-title { font-family: 'Playfair Display', serif; font-size: 1.6rem; font-weight: 700; letter-spacing: -0.02em; margin-bottom: 0.5rem; padding-top: 1rem; display: flex; align-items: center; gap: 0.75rem; }
h2.section-title::before { content: ''; display: inline-block; width: 4px; height: 1.4em; background: var(--accent); border-radius: 2px; flex-shrink: 0; }
h3.subsection { font-family: 'Playfair Display', serif; font-size: 1.15rem; font-weight: 700; margin: 2rem 0 0.8rem; color: var(--text); }
p { color: var(--text); margin-bottom: 1rem; font-size: 0.95rem; }

.formula-box { background: var(--accent-dim); border: 1px solid rgba(96,165,250,0.25); border-radius: 12px; padding: 1.5rem 2rem; margin: 1.5rem 0; position: relative; }
.formula-box::before { content: 'KEY FORMULA'; position: absolute; top: -0.6rem; left: 1rem; background: var(--accent); color: var(--bg); font-family: 'DM Mono', monospace; font-size: 0.6rem; font-weight: 500; letter-spacing: 0.1em; padding: 0.15rem 0.6rem; border-radius: 4px; }
.formula-box .katex-display { margin: 0.5rem 0; }

.key-point { background: var(--surface2); border: 1px solid var(--border); border-left: 3px solid var(--accent); border-radius: 0 10px 10px 0; padding: 1.2rem 1.5rem; margin: 1.5rem 0; font-size: 0.9rem; }
.key-point strong { color: var(--accent); font-family: 'DM Mono', monospace; font-size: 0.72rem; text-transform: uppercase; letter-spacing: 0.08em; display: block; margin-bottom: 0.5rem; }

.warning-box { background: rgba(251,191,36,0.08); border: 1px solid rgba(251,191,36,0.3); border-radius: 10px; padding: 1.2rem 1.5rem; margin: 1.5rem 0; font-size: 0.9rem; }
.warning-box strong { color: #fcd34d; font-family: 'DM Mono', monospace; font-size: 0.72rem; text-transform: uppercase; letter-spacing: 0.08em; display: block; margin-bottom: 0.5rem; }

.example { background: var(--surface); border: 1px solid var(--border); border-radius: 14px; padding: 1.8rem; margin: 1.5rem 0; }
.example-label { font-family: 'DM Mono', monospace; font-size: 0.68rem; color: var(--accent); text-transform: uppercase; letter-spacing: 0.1em; margin-bottom: 0.8rem; }
.example-q { font-size: 0.95rem; font-weight: 500; margin-bottom: 1.2rem; padding-bottom: 1rem; border-bottom: 1px solid var(--border); }
.example-steps { display: flex; flex-direction: column; gap: 0.8rem; }
.step { display: grid; grid-template-columns: 28px 1fr; gap: 0.75rem; align-items: start; font-size: 0.9rem; }
.step-num { width: 28px; height: 28px; background: rgba(96,165,250,0.12); border: 1px solid rgba(96,165,250,0.3); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-family: 'DM Mono', monospace; font-size: 0.7rem; color: var(--accent); flex-shrink: 0; margin-top: 2px; }
.step-content { color: var(--text); }
.step-comment { font-size: 0.8rem; color: var(--muted); font-style: italic; margin-top: 0.3rem; }

.reveal-btn { display: inline-flex; align-items: center; gap: 0.5rem; background: none; border: 1px solid var(--border); color: var(--muted); padding: 0.5rem 1rem; border-radius: 8px; cursor: pointer; font-family: 'DM Mono', monospace; font-size: 0.75rem; text-transform: uppercase; letter-spacing: 0.08em; transition: all 0.2s; margin-top: 0.8rem; }
.reveal-btn:hover { border-color: var(--accent); color: var(--accent); }
.reveal-content { display: none; margin-top: 1rem; padding-top: 1rem; border-top: 1px solid var(--border); }
.reveal-content.open { display: block; }

.practice-section { background: var(--surface2); border: 1px solid var(--border); border-radius: 16px; padding: 2rem; margin-top: 1.5rem; margin-bottom: 1.5rem; }
.practice-header { display: flex; align-items: center; justify-content: space-between; margin-bottom: 1.5rem; }
.practice-title { font-family: 'Playfair Display', serif; font-size: 1.3rem; font-weight: 700; }
.difficulty-badge { font-family: 'DM Mono', monospace; font-size: 0.68rem; padding: 0.25rem 0.7rem; border-radius: 6px; text-transform: uppercase; letter-spacing: 0.08em; }
.diff-a { background: rgba(96,165,250,0.12); color: var(--accent); border: 1px solid rgba(96,165,250,0.3); }
.diff-b { background: rgba(251,191,36,0.12); color: #fcd34d; border: 1px solid rgba(251,191,36,0.3); }
.diff-c { background: rgba(244,63,94,0.12); color: #f43f5e; border: 1px solid rgba(244,63,94,0.3); }

.question-item { padding: 1.2rem 0; border-bottom: 1px solid var(--border); display: grid; grid-template-columns: 1fr auto; gap: 1rem; align-items: start; }
.question-item:last-child { border-bottom: none; }
.q-num { font-family: 'DM Mono', monospace; font-size: 0.7rem; color: var(--accent); margin-bottom: 0.4rem; }
.q-text { font-size: 0.92rem; line-height: 1.6; }
.q-marks { font-family: 'DM Mono', monospace; font-size: 0.72rem; color: var(--muted); white-space: nowrap; margin-top: 0.2rem; }

.lesson-nav { display: flex; justify-content: space-between; align-items: center; margin-top: 4rem; padding-top: 2rem; border-top: 1px solid var(--border); }
.lesson-nav-btn { display: flex; align-items: center; gap: 0.6rem; text-decoration: none; color: var(--muted); font-size: 0.85rem; transition: color 0.2s; padding: 0.8rem 1.2rem; border: 1px solid var(--border); border-radius: 10px; background: var(--surface); }
.lesson-nav-btn:hover { color: var(--accent); border-color: rgba(96,165,250,0.4); }
.lesson-nav-btn.next { flex-direction: row-reverse; }
.btn-label { font-family: 'DM Mono', monospace; font-size: 0.68rem; color: var(--muted); display: block; text-transform: uppercase; letter-spacing: 0.08em; }

@keyframes fadeUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

.toc { background: var(--surface); border: 1px solid var(--border); border-radius: 12px; padding: 1.5rem; margin-bottom: 3rem; }
.toc-title { font-family: 'DM Mono', monospace; font-size: 0.72rem; color: var(--muted); text-transform: uppercase; letter-spacing: 0.1em; margin-bottom: 1rem; }
.toc-list { list-style: none; display: flex; flex-direction: column; gap: 0.4rem; }
.toc-list li a { color: var(--muted); text-decoration: none; font-size: 0.88rem; display: flex; align-items: center; gap: 0.6rem; transition: color 0.2s; padding: 0.2rem 0; }
.toc-list li a:hover { color: var(--accent); }
.toc-list li a::before { content: ''; width: 16px; height: 1px; background: var(--border); flex-shrink: 0; }
.toc-list li a:hover::before { background: var(--accent); }

  @media (max-width: 768px) {
    .sidebar { display: none; }
    .main { margin-left: 0; width: 100%; padding: 5rem 1.5rem 4rem; }
  }
</style>
</head>
<body>

<div class="orb orb-1"></div>
<div class="orb orb-2"></div>

<nav>
  <a href="../../index.html" class="nav-logo">Archie's <span>Hub</span></a>
  <a href="../index.html" class="nav-back">← Maths</a>
</nav>

<div class="layout">
<aside class="sidebar">
  <div class="sidebar-title">Topic 13</div>
  <a href="#chain" class="sidebar-link active"><span class="sidebar-num">13.1</span> Chain Rule</a>
  <a href="#product" class="sidebar-link"><span class="sidebar-num">13.2</span> Product Rule</a>
  <a href="#quotient" class="sidebar-link"><span class="sidebar-num">13.3</span> Quotient Rule</a>
  <a href="#trig-exp-ln" class="sidebar-link"><span class="sidebar-num">13.4</span> Trig, $e^x$ &amp; $\ln x$</a>
  <a href="#implicit" class="sidebar-link"><span class="sidebar-num">13.5</span> Implicit Differentiation</a>
  <a href="#rates" class="sidebar-link"><span class="sidebar-num">13.6</span> Connected Rates of Change</a>
  <div class="sidebar-divider"></div>
  <div class="sidebar-title">Practice</div>
  <a href="#practice-a" class="sidebar-link"><span class="sidebar-num">A</span> Grade A</a>
  <a href="#practice-b" class="sidebar-link"><span class="sidebar-num">B</span> Grade B</a>
  <a href="#practice-c" class="sidebar-link"><span class="sidebar-num">C</span> Hard / STEP</a>
</aside>

<main class="main">

  <div class="topic-header">
    <div class="breadcrumb">
      <a href="../../index.html">Hub</a> / <a href="../index.html">Maths</a> / Topic 13
    </div>
    <div class="topic-num-badge">Topic 13 · Pure Mathematics — Year 2</div>
    <h1 class="topic-title">Further Differentiation</h1>
    <p class="topic-intro">The full toolkit of differentiation — chain, product, and quotient rules unlock every function. Add implicit differentiation and connected rates of change, and you can handle any problem calculus throws at you.</p>
    <div class="topic-meta-row">
      <div class="meta-item"><span>6</span> subtopics</div>
      <div class="meta-item"><span>Edexcel</span> Pure Year 2, Chapters 6–7</div>
      <div class="meta-item"><span>~5 hrs</span> estimated study time</div>
    </div>
  </div>

  <div class="toc">
    <div class="toc-title">// In this topic</div>
    <ul class="toc-list">
      <li><a href="#chain">13.1 — Chain Rule</a></li>
      <li><a href="#product">13.2 — Product Rule</a></li>
      <li><a href="#quotient">13.3 — Quotient Rule</a></li>
      <li><a href="#trig-exp-ln">13.4 — Differentiating Trig, $e^x$ and $\ln x$</a></li>
      <li><a href="#implicit">13.5 — Implicit Differentiation</a></li>
      <li><a href="#rates">13.6 — Connected Rates of Change</a></li>
    </ul>
  </div>

  <!-- 13.1 CHAIN RULE -->
  <div class="lesson-section" id="chain">
    <h2 class="section-title">13.1 Chain Rule</h2>

    <p>The chain rule differentiates <strong>composite functions</strong> — a function of a function. If $y = f(g(x))$, the derivative is the derivative of the outer function times the derivative of the inner.</p>

    <div class="formula-box">
      $$\frac{dy}{dx} = \frac{dy}{du} \cdot \frac{du}{dx} \quad \text{where } u = g(x)$$
      $$\text{Shorthand: } \frac{d}{dx}\bigl[f(g(x))\bigr] = f'(g(x)) \cdot g'(x)$$
      $$\text{"Differentiate outside, leave inside, multiply by derivative of inside"}$$
    </div>

    <div class="example">
      <div class="example-label">Worked Example 13.1a</div>
      <div class="example-q">Differentiate $(a)$ $y = (3x^2 - 1)^5$ &nbsp; $(b)$ $y = \sin(4x^3)$ &nbsp; $(c)$ $y = e^{x^2 + 1}$</div>
      <div class="example-steps">
        <div class="step">
          <div class="step-num">1</div>
          <div class="step-content">
            $(a)$: Outer: $u^5$, inner: $u = 3x^2-1$. $\frac{dy}{dx} = 5(3x^2-1)^4 \cdot 6x = 30x(3x^2-1)^4$.
          </div>
        </div>
        <div class="step">
          <div class="step-num">2</div>
          <div class="step-content">
            $(b)$: $\frac{dy}{dx} = \cos(4x^3) \cdot 12x^2 = 12x^2\cos(4x^3)$.
          </div>
        </div>
        <div class="step">
          <div class="step-num">3</div>
          <div class="step-content">
            $(c)$: $\frac{dy}{dx} = e^{x^2+1} \cdot 2x = 2xe^{x^2+1}$.
          </div>
        </div>
      </div>
    </div>

    <div class="key-point">
      <strong>The General Power Rule</strong>
      $\dfrac{d}{dx}[f(x)]^n = n[f(x)]^{n-1} \cdot f'(x)$ — this is chain rule applied to a power. It works for all $n$ including fractions and negatives. This is one of the most-used results at A Level: always multiply by the derivative of the bracket.
    </div>
  </div>

  <!-- 13.2 PRODUCT RULE -->
  <div class="lesson-section" id="product">
    <h2 class="section-title">13.2 Product Rule</h2>

    <p>When a function is the product of two parts, differentiate each in turn while holding the other fixed, then add.</p>

    <div class="formula-box">
      $$\frac{d}{dx}(uv) = u\frac{dv}{dx} + v\frac{du}{dx}$$
      $$\text{Mnemonic: "first times diff of second, plus second times diff of first"}$$
    </div>

    <div class="example">
      <div class="example-label">Worked Example 13.2a</div>
      <div class="example-q">Differentiate $(a)$ $y = x^3 e^{2x}$ &nbsp; $(b)$ $y = x^2\sin x$ &nbsp; $(c)$ $y = (x^2+1)\ln x$</div>
      <div class="example-steps">
        <div class="step">
          <div class="step-num">1</div>
          <div class="step-content">
            $(a)$: $u = x^3$, $v = e^{2x}$.
            $\frac{dy}{dx} = x^3 \cdot 2e^{2x} + e^{2x} \cdot 3x^2 = xe^{2x}(2x^2 + 3x) = x^2 e^{2x}(2x+3)$.
          </div>
        </div>
        <div class="step">
          <div class="step-num">2</div>
          <div class="step-content">
            $(b)$: $\frac{dy}{dx} = x^2\cos x + 2x\sin x = x(x\cos x + 2\sin x)$.
          </div>
        </div>
        <div class="step">
          <div class="step-num">3</div>
          <div class="step-content">
            $(c)$: $u = x^2+1$, $v = \ln x$.
            $\frac{dy}{dx} = (x^2+1)\cdot\dfrac{1}{x} + \ln x \cdot 2x = \dfrac{x^2+1}{x} + 2x\ln x$.
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- 13.3 QUOTIENT RULE -->
  <div class="lesson-section" id="quotient">
    <h2 class="section-title">13.3 Quotient Rule</h2>

    <p>For a ratio of two functions, use the quotient rule. Note the minus sign in the numerator — getting it the wrong way round is the most common error.</p>

    <div class="formula-box">
      $$\frac{d}{dx}\!\left(\frac{u}{v}\right) = \frac{v\dfrac{du}{dx} - u\dfrac{dv}{dx}}{v^2}$$
      $$\text{Mnemonic: "bottom times diff of top, minus top times diff of bottom, over bottom squared"}$$
    </div>

    <div class="example">
      <div class="example-label">Worked Example 13.3a</div>
      <div class="example-q">Differentiate $(a)$ $y = \dfrac{x^2+1}{2x-3}$ &nbsp; $(b)$ $y = \dfrac{\sin x}{x^2}$ &nbsp; $(c)$ $y = \dfrac{e^x}{1+e^x}$</div>
      <div class="example-steps">
        <div class="step">
          <div class="step-num">1</div>
          <div class="step-content">
            $(a)$: $u = x^2+1$, $v = 2x-3$.
            $$\frac{dy}{dx} = \frac{(2x-3)(2x) - (x^2+1)(2)}{(2x-3)^2} = \frac{4x^2 - 6x - 2x^2 - 2}{(2x-3)^2} = \frac{2x^2 - 6x - 2}{(2x-3)^2}$$
          </div>
        </div>
        <div class="step">
          <div class="step-num">2</div>
          <div class="step-content">
            $(b)$: $\frac{dy}{dx} = \dfrac{x^2\cos x - \sin x \cdot 2x}{x^4} = \dfrac{x\cos x - 2\sin x}{x^3}$.
          </div>
        </div>
        <div class="step">
          <div class="step-num">3</div>
          <div class="step-content">
            $(c)$: $\frac{dy}{dx} = \dfrac{(1+e^x)e^x - e^x \cdot e^x}{(1+e^x)^2} = \dfrac{e^x + e^{2x} - e^{2x}}{(1+e^x)^2} = \dfrac{e^x}{(1+e^x)^2}$.
          </div>
        </div>
      </div>
    </div>

    <div class="key-point">
      <strong>Product vs Quotient</strong>
      You can always convert a quotient to a product: $\frac{u}{v} = u \cdot v^{-1}$, then apply the product rule with the chain rule on $v^{-1}$. Many students find this less error-prone than memorising the quotient rule formula. Both methods give the same answer — use whichever you find more reliable.
    </div>
  </div>

  <!-- 13.4 TRIG, EXP, LN -->
  <div class="lesson-section" id="trig-exp-ln">
    <h2 class="section-title">13.4 Differentiating Trig, $e^x$ and $\ln x$</h2>

    <p>These standard derivatives underpin all of calculus. Combined with the chain, product, and quotient rules, they handle any function you'll encounter at A Level.</p>

    <div class="formula-box">
      $$\frac{d}{dx}(\sin x) = \cos x \qquad \frac{d}{dx}(\cos x) = -\sin x \qquad \frac{d}{dx}(\tan x) = \sec^2 x$$
      $$\frac{d}{dx}(e^x) = e^x \qquad \frac{d}{dx}(e^{f(x)}) = f'(x)e^{f(x)}$$
      $$\frac{d}{dx}(\ln x) = \frac{1}{x} \qquad \frac{d}{dx}(\ln f(x)) = \frac{f'(x)}{f(x)}$$
      $$\frac{d}{dx}(a^x) = a^x \ln a \qquad \frac{d}{dx}(\log_a x) = \frac{1}{x\ln a}$$
    </div>

    <div class="example">
      <div class="example-label">Worked Example 13.4a — Combining rules</div>
      <div class="example-q">Differentiate $(a)$ $y = e^{3x}\cos 2x$ &nbsp; $(b)$ $y = \ln(x^2 + 3x)$ &nbsp; $(c)$ $y = \tan^3 x$</div>
      <div class="example-steps">
        <div class="step">
          <div class="step-num">1</div>
          <div class="step-content">
            $(a)$: Product rule + chain rule:
            $\frac{dy}{dx} = e^{3x}(-2\sin 2x) + \cos 2x \cdot 3e^{3x} = e^{3x}(3\cos 2x - 2\sin 2x)$.
          </div>
        </div>
        <div class="step">
          <div class="step-num">2</div>
          <div class="step-content">
            $(b)$: Chain rule: $\frac{dy}{dx} = \dfrac{2x+3}{x^2+3x}$.
          </div>
        </div>
        <div class="step">
          <div class="step-num">3</div>
          <div class="step-content">
            $(c)$: Chain rule on $(\tan x)^3$: $\frac{dy}{dx} = 3\tan^2 x \cdot \sec^2 x$.
          </div>
        </div>
      </div>
    </div>

    <h3 class="subsection">Logarithmic Differentiation</h3>
    <p>For products or quotients of many terms, or expressions of the form $y = f(x)^{g(x)}$, take $\ln$ of both sides first, then differentiate implicitly.</p>

    <div class="example">
      <div class="example-label">Worked Example 13.4b — Logarithmic differentiation</div>
      <div class="example-q">Find $\dfrac{dy}{dx}$ for $y = x^x$.</div>
      <div class="example-steps">
        <div class="step">
          <div class="step-num">1</div>
          <div class="step-content">
            Take $\ln$: $\ln y = x\ln x$.
          </div>
        </div>
        <div class="step">
          <div class="step-num">2</div>
          <div class="step-content">
            Differentiate both sides with respect to $x$:
            $\dfrac{1}{y}\dfrac{dy}{dx} = \ln x + x \cdot \dfrac{1}{x} = \ln x + 1$.
          </div>
        </div>
        <div class="step">
          <div class="step-num">3</div>
          <div class="step-content">
            $\dfrac{dy}{dx} = y(\ln x + 1) = x^x(\ln x + 1)$.
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- 13.5 IMPLICIT DIFFERENTIATION -->
  <div class="lesson-section" id="implicit">
    <h2 class="section-title">13.5 Implicit Differentiation</h2>

    <p>When $y$ is not explicitly written as a function of $x$, differentiate both sides with respect to $x$, applying the chain rule to any term involving $y$: $\dfrac{d}{dx}[f(y)] = f'(y)\cdot\dfrac{dy}{dx}$.</p>

    <div class="formula-box">
      $$\frac{d}{dx}[f(y)] = f'(y)\cdot\frac{dy}{dx}$$
      $$\text{e.g. } \frac{d}{dx}(y^2) = 2y\frac{dy}{dx}, \quad \frac{d}{dx}(y^3) = 3y^2\frac{dy}{dx}, \quad \frac{d}{dx}(\sin y) = \cos y\frac{dy}{dx}$$
      $$\text{Then collect } \frac{dy}{dx} \text{ terms and factorise}$$
    </div>

    <div class="example">
      <div class="example-label">Worked Example 13.5a</div>
      <div class="example-q">Given $x^2 + y^2 = 25$, find $\dfrac{dy}{dx}$ and the equation of the tangent at $(3, 4)$.</div>
      <div class="example-steps">
        <div class="step">
          <div class="step-num">1</div>
          <div class="step-content">
            Differentiate both sides: $2x + 2y\dfrac{dy}{dx} = 0$.
          </div>
        </div>
        <div class="step">
          <div class="step-num">2</div>
          <div class="step-content">
            $\dfrac{dy}{dx} = -\dfrac{x}{y}$.
          </div>
        </div>
        <div class="step">
          <div class="step-num">3</div>
          <div class="step-content">
            At $(3, 4)$: gradient $= -\dfrac{3}{4}$. Tangent: $y - 4 = -\dfrac{3}{4}(x-3) \implies 4y = -3x + 25$, i.e. $3x + 4y = 25$.
          </div>
        </div>
      </div>
    </div>

    <div class="example">
      <div class="example-label">Worked Example 13.5b — Mixed terms</div>
      <div class="example-q">Find $\dfrac{dy}{dx}$ for $x^3 + 3xy + y^2 = 7$.</div>
      <div class="example-steps">
        <div class="step">
          <div class="step-num">1</div>
          <div class="step-content">
            Differentiate each term. The $3xy$ term needs the product rule: $\dfrac{d}{dx}(3xy) = 3y + 3x\dfrac{dy}{dx}$.
            $$3x^2 + 3y + 3x\frac{dy}{dx} + 2y\frac{dy}{dx} = 0$$
          </div>
        </div>
        <div class="step">
          <div class="step-num">2</div>
          <div class="step-content">
            Collect $\dfrac{dy}{dx}$: $(3x + 2y)\dfrac{dy}{dx} = -3x^2 - 3y$.
          </div>
        </div>
        <div class="step">
          <div class="step-num">3</div>
          <div class="step-content">
            $\dfrac{dy}{dx} = \dfrac{-3(x^2 + y)}{3x + 2y}$.
          </div>
        </div>
      </div>
    </div>

    <div class="warning-box">
      <strong>⚠ The Product Rule on $xy$ Terms</strong>
      The term $xy$ contains both variables, so it requires the product rule: $\frac{d}{dx}(xy) = x\frac{dy}{dx} + y$. Students frequently forget the $y$ term that arises here — it's the most common error in implicit differentiation.
    </div>
  </div>

  <!-- 13.6 CONNECTED RATES OF CHANGE -->
  <div class="lesson-section" id="rates">
    <h2 class="section-title">13.6 Connected Rates of Change</h2>

    <p>When two quantities are both changing with time, their rates of change are connected by the chain rule. If $A$ depends on $r$, and $r$ changes with time $t$, then $\dfrac{dA}{dt} = \dfrac{dA}{dr} \cdot \dfrac{dr}{dt}$.</p>

    <div class="formula-box">
      $$\frac{dA}{dt} = \frac{dA}{dr} \cdot \frac{dr}{dt}$$
      $$\text{Strategy: identify the link between variables, differentiate, substitute known rates}$$
      $$\frac{dy}{dx} = \frac{1}{\,dx/dy\,} \quad \text{(inverse function rule)}$$
    </div>

    <div class="example">
      <div class="example-label">Worked Example 13.6a</div>
      <div class="example-q">A spherical balloon is being inflated so that its radius increases at $2$ cm/s. Find the rate at which the volume is increasing when the radius is $5$ cm.</div>
      <div class="example-steps">
        <div class="step">
          <div class="step-num">1</div>
          <div class="step-content">
            $V = \dfrac{4}{3}\pi r^3$, so $\dfrac{dV}{dr} = 4\pi r^2$.
          </div>
        </div>
        <div class="step">
          <div class="step-num">2</div>
          <div class="step-content">
            Given $\dfrac{dr}{dt} = 2$ cm/s. Chain rule: $\dfrac{dV}{dt} = \dfrac{dV}{dr} \cdot \dfrac{dr}{dt} = 4\pi r^2 \times 2 = 8\pi r^2$.
          </div>
        </div>
        <div class="step">
          <div class="step-num">3</div>
          <div class="step-content">
            At $r = 5$: $\dfrac{dV}{dt} = 8\pi(25) = 200\pi \approx 628$ cm³/s.
          </div>
        </div>
      </div>
    </div>

    <div class="example">
      <div class="example-label">Worked Example 13.6b — Decreasing quantity</div>
      <div class="example-q">Water leaks from a cone (vertex down) of half-angle 30°. When the depth is 10 cm, the depth is decreasing at 0.5 cm/s. Find the rate of decrease of volume at that instant.</div>
      <div class="example-steps">
        <div class="step">
          <div class="step-num">1</div>
          <div class="step-content">
            Half-angle 30° means $r = h\tan 30° = h/\sqrt{3}$. Volume: $V = \dfrac{1}{3}\pi r^2 h = \dfrac{1}{3}\pi \cdot \dfrac{h^2}{3} \cdot h = \dfrac{\pi h^3}{9}$.
          </div>
        </div>
        <div class="step">
          <div class="step-num">2</div>
          <div class="step-content">
            $\dfrac{dV}{dh} = \dfrac{\pi h^2}{3}$. At $h = 10$: $\dfrac{dV}{dh} = \dfrac{100\pi}{3}$.
          </div>
        </div>
        <div class="step">
          <div class="step-num">3</div>
          <div class="step-content">
            $\dfrac{dV}{dt} = \dfrac{dV}{dh}\cdot\dfrac{dh}{dt} = \dfrac{100\pi}{3} \times (-0.5) = -\dfrac{50\pi}{3} \approx -52.4$ cm³/s.
            <div class="step-comment">The negative sign confirms the volume is decreasing. Always state the sign and interpret it.</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- PRACTICE -->
  <div id="practice-a" style="margin-top: 3rem;">
    <h2 class="section-title" style="margin-bottom: 1.5rem;">Practice Questions</h2>
  </div>

  <div class="practice-section" style="margin-bottom: 1.5rem;">
    <div class="practice-header">
      <div class="practice-title">Section A — Foundation</div>
      <div class="difficulty-badge diff-a">Grade A</div>
    </div>

    <div class="question-item">
      <div>
        <div class="q-num">Q1</div>
        <div class="q-text">Differentiate: $(a)$ $y = (5x-2)^6$ &nbsp; $(b)$ $y = \sin^4 x$ &nbsp; $(c)$ $y = e^{3-2x}$ &nbsp; $(d)$ $y = \ln(4x^2+1)$</div>
        <button class="reveal-btn" onclick="this.nextElementSibling.classList.toggle('open'); this.textContent = this.nextElementSibling.classList.contains('open') ? '▲ Hide answer' : '▼ Show answer'">▼ Show answer</button>
        <div class="reveal-content">
          $(a)$: $30(5x-2)^5$. $(b)$: $4\sin^3 x\cos x$. $(c)$: $-2e^{3-2x}$. $(d)$: $\frac{8x}{4x^2+1}$.
        </div>
      </div>
      <div class="q-marks">[8 marks]</div>
    </div>

    <div class="question-item">
      <div>
        <div class="q-num">Q2</div>
        <div class="q-text">Use the product rule to differentiate $(a)$ $y = x^2 e^{-x}$ &nbsp; $(b)$ $y = x\ln(3x)$.</div>
        <button class="reveal-btn" onclick="this.nextElementSibling.classList.toggle('open'); this.textContent = this.nextElementSibling.classList.contains('open') ? '▲ Hide answer' : '▼ Show answer'">▼ Show answer</button>
        <div class="reveal-content">
          $(a)$: $xe^{-x}(2-x)$. $(b)$: $\ln(3x) + 1$.
        </div>
      </div>
      <div class="q-marks">[4 marks]</div>
    </div>

    <div class="question-item">
      <div>
        <div class="q-num">Q3</div>
        <div class="q-text">Find $\dfrac{dy}{dx}$ by implicit differentiation: $(a)$ $x^2 + y^2 = 5xy$ &nbsp; $(b)$ $e^y + x = y^2$.</div>
        <button class="reveal-btn" onclick="this.nextElementSibling.classList.toggle('open'); this.textContent = this.nextElementSibling.classList.contains('open') ? '▲ Hide answer' : '▼ Show answer'">▼ Show answer</button>
        <div class="reveal-content">
          $(a)$: $2x + 2y\frac{dy}{dx} = 5y + 5x\frac{dy}{dx}$. $(2y-5x)\frac{dy}{dx} = 5y-2x$. $\frac{dy}{dx} = \frac{5y-2x}{2y-5x}$. $(b)$: $e^y\frac{dy}{dx} + 1 = 2y\frac{dy}{dx}$. $\frac{dy}{dx}(2y-e^y) = 1$. $\frac{dy}{dx} = \frac{1}{2y-e^y}$.
        </div>
      </div>
      <div class="q-marks">[6 marks]</div>
    </div>

    <div class="question-item">
      <div>
        <div class="q-num">Q4</div>
        <div class="q-text">A circular oil slick expands so that its radius grows at 3 m/s. Find the rate of increase of area when the radius is 20 m.</div>
        <button class="reveal-btn" onclick="this.nextElementSibling.classList.toggle('open'); this.textContent = this.nextElementSibling.classList.contains('open') ? '▲ Hide answer' : '▼ Show answer'">▼ Show answer</button>
        <div class="reveal-content">
          $A = \pi r^2$, $\frac{dA}{dt} = 2\pi r \cdot \frac{dr}{dt} = 2\pi(20)(3) = 120\pi \approx 377$ m²/s.
        </div>
      </div>
      <div class="q-marks">[4 marks]</div>
    </div>
  </div>

  <div id="practice-b" class="practice-section" style="margin-bottom: 1.5rem;">
    <div class="practice-header">
      <div class="practice-title">Section B — Challenging</div>
      <div class="difficulty-badge diff-b">Grade B</div>
    </div>

    <div class="question-item">
      <div>
        <div class="q-num">Q5</div>
        <div class="q-text">Find the equation of the tangent to the curve $x^2y + y^3 = 10$ at the point $(1, 2)$.</div>
        <button class="reveal-btn" onclick="this.nextElementSibling.classList.toggle('open'); this.textContent = this.nextElementSibling.classList.contains('open') ? '▲ Hide answer' : '▼ Show answer'">▼ Show answer</button>
        <div class="reveal-content">
          Differentiate: $2xy + x^2\frac{dy}{dx} + 3y^2\frac{dy}{dx} = 0$. At $(1,2)$: $4 + \frac{dy}{dx}(1+12) = 0 \Rightarrow \frac{dy}{dx} = -\frac{4}{13}$. Tangent: $y-2 = -\frac{4}{13}(x-1) \Rightarrow 13y = -4x + 30$.
        </div>
      </div>
      <div class="q-marks">[6 marks]</div>
    </div>

    <div class="question-item">
      <div>
        <div class="q-num">Q6</div>
        <div class="q-text">Show that $\dfrac{d}{dx}(\tan x) = \sec^2 x$ using the quotient rule applied to $\tan x = \dfrac{\sin x}{\cos x}$.</div>
        <button class="reveal-btn" onclick="this.nextElementSibling.classList.toggle('open'); this.textContent = this.nextElementSibling.classList.contains('open') ? '▲ Hide answer' : '▼ Show answer'">▼ Show answer</button>
        <div class="reveal-content">
          $\frac{d}{dx}\!\left(\frac{\sin x}{\cos x}\right) = \frac{\cos x \cdot \cos x - \sin x \cdot(-\sin x)}{\cos^2 x} = \frac{\cos^2 x + \sin^2 x}{\cos^2 x} = \frac{1}{\cos^2 x} = \sec^2 x$. $\square$
        </div>
      </div>
      <div class="q-marks">[3 marks]</div>
    </div>

    <div class="question-item">
      <div>
        <div class="q-num">Q7</div>
        <div class="q-text">The volume of a cube is increasing at $12$ cm³/s. Find the rate of increase of the surface area when the side length is $5$ cm.</div>
        <button class="reveal-btn" onclick="this.nextElementSibling.classList.toggle('open'); this.textContent = this.nextElementSibling.classList.contains('open') ? '▲ Hide answer' : '▼ Show answer'">▼ Show answer</button>
        <div class="reveal-content">
          $V = x^3$, $\frac{dV}{dt} = 3x^2\frac{dx}{dt} = 12 \Rightarrow \frac{dx}{dt} = \frac{4}{x^2}$. At $x=5$: $\frac{dx}{dt} = 0.16$. $S = 6x^2$, $\frac{dS}{dt} = 12x\frac{dx}{dt} = 12(5)(0.16) = 9.6$ cm²/s.
        </div>
      </div>
      <div class="q-marks">[6 marks]</div>
    </div>
  </div>

  <div id="practice-c" class="practice-section">
    <div class="practice-header">
      <div class="practice-title">Section C — STEP-style</div>
      <div class="difficulty-badge diff-c">Hard</div>
    </div>

    <div class="question-item">
      <div>
        <div class="q-num">Q8</div>
        <div class="q-text">$(a)$ By writing $y = \arcsin x$ as $x = \sin y$ and differentiating implicitly, show that $\dfrac{d}{dx}(\arcsin x) = \dfrac{1}{\sqrt{1-x^2}}$. $(b)$ Similarly, show $\dfrac{d}{dx}(\arctan x) = \dfrac{1}{1+x^2}$. $(c)$ Hence evaluate $\displaystyle\int_0^{1/2} \frac{1}{\sqrt{1-x^2}}\,dx$ exactly.</div>
        <button class="reveal-btn" onclick="this.nextElementSibling.classList.toggle('open'); this.textContent = this.nextElementSibling.classList.contains('open') ? '▲ Hide answer' : '▼ Show answer'">▼ Show answer</button>
        <div class="reveal-content">
          $(a)$: $x = \sin y \Rightarrow 1 = \cos y \frac{dy}{dx} \Rightarrow \frac{dy}{dx} = \frac{1}{\cos y} = \frac{1}{\sqrt{1-\sin^2 y}} = \frac{1}{\sqrt{1-x^2}}$. $\square$ (using $\cos y > 0$ for $y \in (-\pi/2, \pi/2)$).

          $(b)$: $x = \tan y \Rightarrow 1 = \sec^2 y \frac{dy}{dx} \Rightarrow \frac{dy}{dx} = \cos^2 y = \frac{1}{1+\tan^2 y} = \frac{1}{1+x^2}$. $\square$

          $(c)$: $\int_0^{1/2}\frac{dx}{\sqrt{1-x^2}} = [\arcsin x]_0^{1/2} = \arcsin\tfrac{1}{2} - 0 = \dfrac{\pi}{6}$.
        </div>
      </div>
      <div class="q-marks">[10 marks]</div>
    </div>
  </div>

  <div class="lesson-nav">
    <a href="parametric-equations.html" class="lesson-nav-btn">
      ← <div><span class="btn-label">Previous</span> Parametric Equations</div>
    </a>
    <a href="further-integration.html" class="lesson-nav-btn next">
      <div><span class="btn-label">Next Topic</span> Further Integration</div> →
    </a>
  </div>

</main>
</div>

<script>
  const sections = document.querySelectorAll('.lesson-section[id], div[id^="practice"]');
  const sidebarLinks = document.querySelectorAll('.sidebar-link');
  window.addEventListener('scroll', () => {
    let current = '';
    sections.forEach(s => { if (s.getBoundingClientRect().top < 150) current = s.id; });
    sidebarLinks.forEach(l => {
      l.classList.remove('active');
      if (l.getAttribute('href') === '#' + current) l.classList.add('active');
    });
  });
</script>
</body>
</html>
